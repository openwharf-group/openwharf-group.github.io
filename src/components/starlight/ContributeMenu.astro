---
import { getLanguageFromURL } from "../../util";
import LinkList from "../common/LinkList.astro";

export interface Props {
	editHref: string;
	title?: string;
}

const { editHref,title="" } = Astro.props as Props;

const lang = getLanguageFromURL(Astro.url.pathname);

const regex =  /(\S*).io/g;
const originGit = editHref.match(regex)[0];

const feedbackUrl = originGit + `/issues/new?title=关于文档【${title}】的反馈&body=文档链接：${editHref}`

const linkItems = [
	{
		href: `/${lang}/v2/contribution/contributing`,
		text: "rightSidebar.contributorGuides",
		depth: 2,
		icon: 'open-book'
	},
	{
		href: editHref,
		text: "rightSidebar.editPage",
		depth: 2,
		icon:'pencil'
	},
	{
		href: feedbackUrl ,
		text: "rightSidebar.feedbackIssue",
		depth: 2,
		icon:'github'
	}
]

---
<LinkList headingTitle="rightSidebar.contribute" linkItems={linkItems} />

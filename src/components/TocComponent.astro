---
import { remark } from "remark";
import html from "remark-html";
import { toc } from "mdast-util-toc";

// Props
const { content } = Astro.props;

// 创建目录
const createTOC = (content) => {
    // @ts-ignore
    const mdast = remark().parse(content);
    return toc(mdast);
};

const tableOfContents = createTOC(content);

// @ts-ignore
const tocHtml = remark().use(html).stringify(tableOfContents.map);
---

<aside>
    <div class="nav myroot prose" set:html={tocHtml} />
</aside>

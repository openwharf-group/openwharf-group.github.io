---
import { format } from "date-fns";
// import { resolveCoverImage } from "~/content/blog/_resolveImage.js";
import BlogPoster from "@components/BlogPoster.astro"

export type Props = {
    post: {
        slug: string;
        body: string;
        collection: string;
        data: {
            title: string;
            description: string;
            date: Date;
            keywords?: any[];
        };
    };
    posterWidth?:string;
};

const { post,posterWidth } = Astro.props;


// const image = await resolveCoverImage(post);
---

<div class="card glass h-full" style={`width: ${posterWidth}px`}>
  <a href={`/blog/${post.slug}`} rel="prefetch" class="text-gray-15">
  <BlogPoster
    post={post}
    width={posterWidth}
  />
  <div class="card-body w-full h-auto">
    <p class="text-gray-03">{format(new Date(post.data.date), "MMMM d, yyyy")}</p>
    <h2 class="card-title text-gray-01">{post.data.title}</h2>
    <p class="text-gray-01">{post.data.description}</p>
  </div>
  </a>
</div>

<style>
  a {
    text-decoration: none;
    color: inherit;
  }
</style>
---
import { Image } from "astro:assets";
import { useTranslations } from "@i18n/util";
const t = useTranslations(Astro);
  const companyCustomers = [
    {
      name: t('cloud.feedback.soul.name'),
      theme: 'blue',
      logo: "https://img.alicdn.com/imgextra/i2/O1CN01GZhEqR1bY3dY5SOuY_!!6000000003476-2-tps-160-130.png",
      href: "https://code.alibaba-inc.com/goat/astro-nacos",
      description: t('cloud.feedback.soul.description'),
    },
    {
      name: t('cloud.feedback.laidian.name'),
      theme: 'black',
      logo: "https://img.alicdn.com/imgextra/i1/O1CN01FmXgsj1k3fuBDvIZ9_!!6000000004628-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/855894",
      description: t('cloud.feedback.laidian.description'),
    },
    {
      name: t('cloud.feedback.zeekr.name'),
      theme: 'gray',
      logo: "https://img.alicdn.com/imgextra/i2/O1CN01zluUCK29BKvOCojPr_!!6000000008029-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/1173573",
      description: t('cloud.feedback.zeekr.description'),
    }, 
    {
      name: t('cloud.feedback.ykc.name'),
      theme: 'blue',
      logo: "https://img.alicdn.com/imgextra/i4/O1CN011Q5cx81NlQZvJvgdy_!!6000000001610-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/1172572?groupCode=mse",
      description: t('cloud.feedback.ykc.description'),
    },
    {
      name: t('cloud.feedback.bosideng.name'),
      theme: 'gray',
      logo: "https://img.alicdn.com/imgextra/i2/O1CN01ITEmn01cPdybsUmSJ_!!6000000003593-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/1147221?groupCode=mse",
      description: t('cloud.feedback.bosideng.description'),
    },
    {
      name: t('cloud.feedback.skechers.name'),
      theme: 'gray',
      logo: "https://img.alicdn.com/imgextra/i1/O1CN01P1k9gA1YpVsxPYzAw_!!6000000003108-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/844814",
      description: t('cloud.feedback.skechers.description'),
    },
    {
      name: t('cloud.feedback.very.name'),
      theme: 'blue',
      logo: "https://img.alicdn.com/imgextra/i2/O1CN01wOeiBB1lf3qo0UYUl_!!6000000004845-2-tps-160-130.png",
      href: "https://developer.aliyun.com/article/992090",
      description: t('cloud.feedback.very.description'),
    },
    {
      name: t('cloud.feedback.zhijin.name'),
      theme: 'gray',
      logo: "https://img.alicdn.com/imgextra/i3/O1CN015GIqM31qsPTObt2CV_!!6000000005551-2-tps-544-180.png",
      href: "https://developer.aliyun.com/article/1064881",
      description: t('cloud.feedback.zhijin.description'),
    },
    {
      name: t('cloud.feedback.helian.name'),
      theme: 'black',
      logo: "https://img.alicdn.com/imgextra/i2/O1CN01LStcNM248WPaWDfoW_!!6000000007346-2-tps-544-180.png",
      href: "https://developer.aliyun.com/article/1095573",
      description: t('cloud.feedback.helian.description'),
    }
  ];

  // blue 
  // bg: bg-blue-08; text: text-blue-01 logo: text-gray-03
  // black
  // bg: bg-gray-14; text: text-gray-03 logo: text-gray-03
  // gray
  // bg: bg-gray-03; text: text-gray-14 logo: text-gray-14
---

<companies-feedback class="companies-feedback block bg-gary-02 p-10">
  <div class="top-title w-full flex flex-col items-center mb-20 mt-16">
    <span class="text-gray-10 text-xs mb-6">{t('cloud.feedback.about')}</span>
    <div class="title text-gray-14 text-4xl font-medium text-center whitespace-normal max-w-[60%]">{t('cloud.feedback.title')}</div>
  </div>

  <div class="bottom-feedback w-full relative flex overflow-hidden">
    <ul class="slider p-0 list-none inline-block uppercase cursor-pointer flex flex-nowrap">
      {
        companyCustomers.map((company) => {
          const { name, logo, description, theme, href } = company;
          const isBule = theme === 'blue';
          const isBlack = theme === 'black';
          const isGray = theme === 'gray';
          return (
            <a href={href} target="_blank">
              <li class="slider-item w-96 inline-block">
                <div class:list={['flex', 'flex-col', 'shadow-xl', 'p-8', 'rounded-2xl', { 'bg-blue-08': isBule, 'bg-gray-14': isBlack, 'bg-gray-03': isGray }]}>
                  <div class:list={['normal-case', { 'text-blue-01': isBule, 'text-gray-03': isBlack, 'text-gray-14': isGray }]}>{description}</div>
                  <div class="flex justify-between mt-12 items-center">
                    <div class:list={['text-xs', { 'text-gray-03': !isGray, 'text-gray-14': isGray }]}>{name}</div>
                    <Image src={logo} width="80" height="65" alt={name} class="object-contain" />
                  </div>
                </div>
              </li>
            </a>
          );
        })
      }
    </ul>
    <ul class="slider p-0 list-none inline-block uppercase cursor-pointer flex flex-nowrap">
      {
        companyCustomers.map((company) => {
          const { name, logo, description, theme } = company;
          const isBule = theme === 'blue';
          const isBlack = theme === 'black';
          const isGray = theme === 'gray';
          return (
            <li class="slider-item w-96 inline-block">
              <div class:list={['flex', 'flex-col', 'shadow-xl', 'p-8', 'rounded-2xl', { 'bg-blue-08': isBule, 'bg-gray-14': isBlack, 'bg-gray-03': isGray }]}>
                <div class:list={['normal-case', { 'text-blue-01': isBule, 'text-gray-03': isBlack, 'text-gray-14': isGray }]}>{description}</div>
                <div class="flex justify-between mt-12 items-center">
                  <div class:list={['text-xs', { 'text-gray-03': !isGray, 'text-gray-14': isGray }]}>{name}</div>
                  <Image src={logo} width="80" height="65" alt={name} class="object-contain" />
                </div>
              </div>
            </li>
          );
        })
      }
    </ul>
  </div>

  <div class="mobile-bottom-feedback hidden w-full flex-col">
    {
      companyCustomers.map((company) => {
        const { name, logo, description, theme, href } = company;
        const isBule = theme === 'blue';
        const isBlack = theme === 'black';
        const isGray = theme === 'gray';
        return (
          <a href={href} target="_blank">
            <div class="w-full mb-4">
              <div class:list={['content', 'flex', 'flex-col', 'shadow-xl', 'p-8', 'rounded-2xl', { 'bg-blue-08': isBule, 'bg-gray-14': isBlack, 'bg-gray-03': isGray }]}>
                <div class:list={['normal-case', 'description', 'line-clamp-2', { 'text-blue-01': isBule, 'text-gray-03': isBlack, 'text-gray-14': isGray }]}>{description}</div>
                <div class="company flex justify-between mt-12 items-center">
                  <div class:list={['text-xs', { 'text-gray-03': !isGray, 'text-gray-14': isGray }]}>{name}</div>
                  <Image src={logo} width="80" height="65" alt={name} class="object-contain" />
                </div>
              </div>
            </div>
          </a>
        );
      })
    }
  </div>
</companies-feedback>

<script>
class CompaniesFeedback extends HTMLElement {
  constructor() {
    super();

  }
}
customElements.define("companies-feedback", CompaniesFeedback);
</script>

<style>
companies-feedback {
  --time: 100s
}
.companies-feedback {
  /* 最后一个元素 距离底部footer 52px */
  padding-bottom: 3.25rem;
}
.bottom-feedback {
  /* mask-image: linear-gradient(90deg, transparent, theme('colors.gray.01') 20%, theme('colors.gray.01') 80%, transparent); */
}
.slider {
  transition: background-color 0.5s;
  /* animation: slide var(--time) linear infinite; */
}
.slider-item {
  padding: 0 .65rem;
}
img {
  cursor: pointer;
  transition: filter 0.5s;
}
.slider {
  animation: slide var(--time) linear infinite;
}
@keyframes slide {
  0% {
    transform: translateX(0%);
  }

  100% {
    transform: translateX(-100%);
  }
}
.bottom-feedback:hover > .slider {
  animation-play-state: paused;
}
.slider-item:first-child {
  animation: reset var(--time) step-end infinite;
  animation-delay: calc(var(--time) / -2);
}
a {
    text-decoration: none; /* 清除下划线等默认样式 */
    color: inherit; /* 继承父元素的颜色 */
  }
@keyframes reset {
  0% {
    transform: translateX(0%);
  }

  100% {
    transform: translateX(100%);
  }
}

@media (max-width: 50rem) {
  .companies-feedback {
    padding: 1.5rem;
  }
  .top-title {
    margin-top: 2.5rem;
    margin-bottom: 2.5rem;
  }
  .top-title .title {
    max-width: 100%;
    font-size: 1.125rem; /* 18px */
    line-height: 1.75rem; /* 28px */
  }
  .bottom-feedback {
    display: none;
  }
  .mobile-bottom-feedback {
    display: flex;
  }
  .mobile-bottom-feedback .content {
    padding: 1.5rem;
    padding-bottom: 0;
  }
  .mobile-bottom-feedback .company {
    height: 4rem;
    margin-top: 1.5rem;
  }

}

@media (min-width: 50rem) and (max-width: 72rem) {

}
</style>
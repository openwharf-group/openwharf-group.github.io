---
  const { imgList } = Astro.props;
---

<style>
  .slider-container {
    position: relative;
    display: flex;
    width: 100%;
    overflow-x: hidden;
  }


  .slider {
    width: 100%;
    will-change: transform;
    display: flex;
    flex: 0 0 auto;
    animation: slider-container 30s linear infinite;
    list-style-type: none;
    padding: 0;
    margin: 0;
    width: auto;
  }

  .slider-item {
    padding: 0.7rem 0.5rem;
    height: 5rem;
    margin-right: 0.5rem;
    width: auto;
  }

  img {
    width: 100%;
    height: 100%;
  }

  @keyframes slider-container {
    0% {
      transform: translateX(0%);
    }

    100% {
      transform: translateX(-100%);
    }
  }
</style>
<div class="slider-container">

  <ul class="slider">
    {imgList.map((imgItem,index) =>
    <li class="slider-item">
      <img src={imgItem} alt={`Image${index}`}>
    </li>)}
  </ul>
</div>
<script>
  let container = document.querySelector(".slider-container");
  let oImgList = document.querySelector(".slider");
  let cloneImg = oImgList.cloneNode(true);
  container.appendChild(cloneImg);
  window.onload = function () {
    let containerWidth = container.offsetWidth;
    let imgListWidth = oImgList.offsetWidth;
    if (containerWidth > imgListWidth) {
      let numClones = Math.ceil(containerWidth / imgListWidth) - 1;
      for (let i = 0; i < numClones; i++) {
        let clone = oImgList.cloneNode(true);
        container.appendChild(clone);
      }
    }
  };
</script>
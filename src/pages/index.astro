---
import BaseLayout from '@layouts/BaseLayout.astro';
import HomeIntroduce from '@components/home/HomeIntroduce.astro';
import ChooseReason from '@components/home/ChooseReason.astro';
import NacosEBook from '@components/home/NacosEBook.astro';
import ExploreFeatures from '@components/home/ExploreFeatures.astro';
import UseCompanies from '@components/home/UseCompanies.astro';
import HomeSolutionsCard from '@components/home/HomeSolutionsCard.astro';
import HomeFooter from '@components/common/Footer.astro';
import { useTranslations } from "@i18n/util";
const t = useTranslations(Astro);
---

<BaseLayout
  title={t('home.title')}
  description={t('home.description')}
>
  <home-body>
    <HomeIntroduce />
    <ChooseReason />
    <NacosEBook />
    <ExploreFeatures />
    <UseCompanies />
  </home-body>

  <HomeFooter>
    <HomeSolutionsCard slot="after-footer" />
  </HomeFooter>
</BaseLayout>

<script>
  class HomeBody extends HTMLElement {
    constructor() {
      super();
    }
  }
  customElements.define('home-body', HomeBody);

  const copilotJSScript = document.createElement('script');
    copilotJSScript.type = 'text/javascript';
    copilotJSScript.src = '//dev.g.alicdn.com/cm-design/copilot-booter/0.0.22/copilot-booter.js';
    copilotJSScript.addEventListener('load', function (){
        if(window.CNPilot){ 
            window.CNPilot.mounted({
              CNPilot_OPEN_SOURCE: ['openwharf-group.github.io'],
              CNPilot_OPEN_SOURCE_API: 'https://ai.nacos.io',
              showFloatICON: true,
              globalStyle:{
                top:'64px',
                // height:'100vh',
                // zIndex:'999999'
              },
              entryIconProps:{
                'position-type':'updown',
                'icon-hover-text':'AI专家',
                // 'icon-url':'https://pic.rmb.bdstatic.com/bjh/914b8c0f9814b14c5fedeec7ec6615df5813.jpeg',
              },
              headerProps:{
                // titleIcon: 'https://pic.rmb.bdstatic.com/bjh/914b8c0f9814b14c5fedeec7ec6615df5813.jpeg',
                titleText: "nacos文档答疑助手",
                closeIcon: { show: true }, // 关闭按钮
              }
            }); 
        };
    });
  document.body.append(copilotJSScript);
</script>

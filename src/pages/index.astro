---
import BaseLayout from '@layouts/BaseLayout.astro';
import HomeIntroduce from '@components/home/HomeIntroduce.astro';
import ChooseReason from '@components/home/ChooseReason.astro';
import NacosEBook from '@components/home/NacosEBook.astro';
import ExploreFeatures from '@components/home/ExploreFeatures.astro';
import UseCompanies from '@components/home/UseCompanies.astro';
import HomeSolutionsCard from '@components/home/HomeSolutionsCard.astro';
import HomeFooter from '@components/common/Footer.astro';
import { useTranslations } from "@i18n/util";
const t = useTranslations(Astro);
---

<BaseLayout
  title={t('home.title')}
  description={t('home.description')}
>
  <home-body>
    <HomeIntroduce />
    <ChooseReason />
    <NacosEBook />
    <ExploreFeatures />
    <UseCompanies />
  </home-body>

  <HomeFooter>
    <HomeSolutionsCard slot="after-footer" />
  </HomeFooter>
</BaseLayout>

<script>
  class HomeBody extends HTMLElement {
    constructor() {
      super();
    }
  }
  customElements.define('home-body', HomeBody);

  const copilotJSScript = document.createElement('script');
    copilotJSScript.type = 'text/javascript';
    copilotJSScript.src = '//dev.g.alicdn.com/cm-design/copilot-booter/0.0.21/copilot-booter.js';
    copilotJSScript.addEventListener('load', function (){
        if(window.CNPilot){ 
            window.CNPilot.mounted({
              CNPilot_NODE_ENV: 'development', 
              CNPilot_OPEN_SOURCE: ['openwharf-group.github.io'],
              // CNPilot_OPEN_SOURCE_API: 'https://ai.nacos.io',
              showFloatICON: true,
              globalStyle:{
                top:'64px'
              },
              headerProps:{
                closeIcon: { show: true }, // 关闭按钮
              }
            }); 
        };
    });
  document.body.append(copilotJSScript);
</script>
